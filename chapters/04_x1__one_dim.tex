\documentclass[../thesis.tex]{subfiles}
% Separate preamble for this subfile. This preamble is loaded last, so one can override various functions before \begin{document}

% Better comment extension for Vscode colors these comments differently
% Normal comment color
% * Important information
% ! ALERT
% ? Question
% TODO stuff to do
% // This is strikethrough


\begin{document}
In dimension one, the unit cube is simply the unit interval $I=\bras{0,1}$. It is a well-known result from Fourier analysis that $\Lambda = \Z$ is a spectrum for $I$. In fact, not only is the system
\begin{equation*}
    E(\Z) = \braqMed{\indicator{I}{t} e^{2\pi i t \lambda} : \lambda \in \Z}
\end{equation*} 
an orthogonal basis for $L^2(\Omega)$, it is an orthonormal basis.
\begin{theorem}\label{lem:exp_onb_onedim}
    The set of exponential functions $E\brac{\Z}$ is an orthonormal basis for $L^2(I)$.
    % For $t\in \R$, then the set of exponential functions $E\brac{\Z}$ is an orthonormal basis for $L^2(I)$
\end{theorem}
\begin{proof}
    We begin with showing orthogonality. Let $e_{\lambda}, e_{\lambda'} \in E(\Z)$ with $\lambda \neq \lambda'$. %Then, since complex exponential functions are continuous and Rienman integrable on $I$, they are also Lebesgue integrable on $I$. We compute
    \begin{align}\label{eq:orthog_one_dim_req}
        \braaMed{e_{\lambda},e_{\lambda'} }_{L^2(I)} &= \int_0^1 e_{\lambda}(t)\overline{e_{\lambda'}(t)} dt \nonumber\\ 
        &= \int_0^1 e^{2 \pi i {\lambda}t} e^{-2 \pi i {\lambda'}t} dt \nonumber\\
        &= \int_0^1 e^{2 \pi i (\lambda-\lambda')t} dt \nonumber\\
        &=\frac{1}{2 \pi i (\lambda-\lambda')} \brac{e^{2 \pi i (\lambda - \lambda')} -1} \\
        &=\frac{1-1}{2 \pi i (\lambda-\lambda')} & (\text{since } e^{2 \pi i (\lambda-\lambda')} = 1) \nonumber\\
        &= 0 \nonumber.
    \end{align}
    Hence the system $E(\Lambda)$ is orthogonal. Furthermore, if $\lambda =\lambda'$ then the inner product is
    \begin{align*}\label{eq:exp_norm_one}
        \| e_\lambda \|^2_{L^2(I)} 
        = \braaMed{e_{\lambda},e_{\lambda} }_{L^2(I)} 
        = \int_0^1 e^{2 \pi i (\lambda-\lambda)t} dt
        = \int_0^1 e^{0} dt = 1,
    \end{align*}
    which shows that $E(\Z)$ is orthonormal. Now, let us see that $E(\Z)$ is complete in $L^2(I)$. By \cref{def:closed_span}, this is equivalent to showing $\spn{E(\Z)}$ is dense in $L^2(I)$ with respect to the \Ltwonorm. 
    %More specificaly, if $\|f-f'\|_{L^2(I)} < \varepsilon'$ for $\varepsilon' > 0$ and two functions $f,f'$ where $f\in L^2(I)$ and $f'\in \spn{\onedexp}$, follows from defenition of dense that $\spn{\onedexp}$ is dense in $L^2(I)$.
    %
    %THIS IS THE SAME AS the closed span, which is the set of all elements a_i of the span(E) that converges to a. If this closed span is the whole of X, then E is dense. So by showing E is dense w.r.t a norm, it essentially shows the closed span = the set.
    %
    %More specificaly, choose any function $f\in L^2(I)$ and fix a real number $\varepsilon >0$. If we can show that there is a function $T \in \spn{\onedexp}$ such that $\|f-T\|_{L^2(I)} < 3 \varepsilon$, then we are done as this implies completeness from the definition of closed span.
    %First, choose any function $f\in L^2(I)$ and fix a real number $\varepsilon >0$. %Our goal, in the end, is to show that there is a function $T \in \spn{\onedexp}$ such that $\|f-T\|_{L^2(I)} < 3 \varepsilon$.
    %
    First, fix a function $f\in L^2(I)$ and a real number $\varepsilon >0$. Since $\Cper(I)$ is dense in $L^2(I)$ by \cref{lem:c_per_dense_c_and_dense_L2}, we know that there exists a continuous function $g \in \Cper(I)$ such that
    \begin{equation}\label{eq:estimate_1}
        \| f-g \|_{L^2(I)}^2 = \int_0^1 \left|f(t)-g(t) \right|^2dt < \varepsilon^2.
    \end{equation}
    We then use the Weierstrass Approximation Theorem (\cite[p.~202]{durenInvitationClassicalAnalysis2012}) to approximate $g$ with a trigonometric polynomial. 
    \begin{theorem}[Weierstrass Approximation Theorem]\label{thrm:weierstrassApprox}
        Let $q\in \Cper (I)$. Then for each $\varepsilon>0$ there exists a trigonometric polynomial %of degree $N$
        \begin{equation*}
            T(t) = \sum_{\lambda=-N}^N c_\lambda e^{2\pi i \lambda t},
        \end{equation*}
        such that $|q(t)-T(t)|<\varepsilon$ for $0 \leq t \leq 1$.
    \end{theorem}
    From \cref{thrm:weierstrassApprox}, we immediately get that there exists a trigonometric polynomial $T(t)$ such that $|g(t)-T(t)|<\varepsilon$ for $0 \leq t \leq 1$. Note that $T(t)$ is a member of $\spn{E(\Z)}$ since % N er degree! mao, lambda er degreE? / frequency?
    \begin{equation*}
        \spn{E(\Z)}=\braqMed{\sum_{\lambda=-N}^N c_\lambda e_\lambda : N \in \N, c_\lambda \in \C}.
    \end{equation*}
    %is simply a set of trigonometric polynomials. Continuing, using the \Ltwonorm, we have that
    We have that
    \begin{align}\label{eq:estimate_2}
        \| g-T \|_{L^2(I)}^2 = \int_0^1 \left|g(t)-T(t) \right|^2dt \leq \int_0^1 \varepsilon^2 dt = \varepsilon^2.
    \end{align}
    Now, using the triangle inequality to combine the estimates in \labelcref{eq:estimate_1} and \labelcref{eq:estimate_2}, we get
    \begin{align*}
        \| f-T\|_{L^2(I)} \leq  \| f-g\|_{L^2(I)} +\| g-T\|_{L^2(I)} < \varepsilon + \varepsilon =  2 \varepsilon
    \end{align*}
    This shows that $\spn{E(\Z)}$ is dense in $L^2(I)$, which finalizes our proof.
    %For this reason, we can approximate every $f\in L^2(I)$ by a function $T \in \spn{\onedexp}$ as closely as we want. In other words, $\spnclos{\onedexp}=L^ 2(I)$, and by \cref{def:closure} $\spn{\onedexp}$ is dense in $L^2(I)$ which finalizes our proof%, and this finalizes our proof. %we have shown that $\onedexp$ indeed is complete. This 
\end{proof}
%The proof above can easily be generalized to higher dimensions, where one can see that $\Lambda = \Z^d$ is a spectrum for $I^d$. We summarise this result in the following lemma.

One can easily generalize the above proof to higher dimensions, where $\Lambda = \Z^d$ would be a spectrum for $I^d$. %*Although we will not show this explicitly, we summarise it in the following result.
%Using similar arguments, one can generalize the above proof into higher dimensions. That is, $\Lambda = \Z^d$ is a spectrum for $I^d$.
%The above proof can, using similar arguments, easily be generalized to higher dimensions, where $\Lambda = \Z^d$ is a spectrum for $I^d$.
%Original:    %The proof above can easily be generalized to higher dimensions, where $\Lambda = \Z^d$ is a spectrum for $I^d$.

\begin{theorem}\label{lem:z_d_in_higer_d}
    The set of exponential functions $E(\Z^d) = \braqMed{\indicator{\Omega}{t} e_\lambda(t) : \lambda \in \Z^d}$ is an orthonormal basis for $L^2(I^d)$.
\end{theorem}
However, whereas we will see in \cref{sec:spec_higher_dim} that $I^d$ for $d>1$ has many other spectra, the flexibility for $d=1$ is minimal. That is to say, it is easy to classify all of them, and they are all closely related since they are alterations of the same set.  %? other spectra than the integers?
\begin{proposition}\label{prop:class_all_shift}
    The only subsets $\Lambda \subseteq \R$ such that $\Lambda$ is a spectrum for $I$ are the translates $\Lambda_\alpha = \Z + \alpha$ for a fixed value $\alpha \in \R$.
\end{proposition}
\begin{proof} %* Gitt et vilkårlig spektrum, vis at det må være Z, ingen andre mengder, og at Z+alpha er det eneste
    Given an arbitrary spectrum $\Lambda$ for $I$, choose any distinct $\lambda,\lambda'$ from that set. Then, for the elements to be orthogonal, we must have
    \begin{equation}\label{eq:zero_set_equation}
        \braaMed{e_{\lambda},e_{\lambda'} }_{L^2(I)} = \int_0^1 e^{2 \pi i (\lambda-\lambda')t} dt =\frac{e^{2 \pi i (\lambda - \lambda')} -1}{2 \pi i (\lambda-\lambda')} = 0,
    \end{equation}
    as from the proof of \cref{lem:exp_onb_onedim} above. Observe that this can only happen if $e^{2\pi i (\lambda-\lambda')} = 1$, which can only be the case if the difference $(\lambda-\lambda') \in \intnozero$. This implies that if we fix $\lambda$ to be any (real) number, then all other elements $\lambda'$ must lie in $\Z + \lambda$ for the orthogonality condition to hold. In other words, we know that our arbitrary $\Lambda$ must lie in $\Z+\alpha$ for some real number $\alpha$. However, as we know from \cref{lem:onb_direct_subset}, we cannot have an orthogonal basis as a direct subset of another orthogonal basis. Thus we must have $\Lambda = \Z+\alpha$, and there are no other spectra for $I$ in dimension $d=1$.
\end{proof} %* Kan stryke det som står her fra før fordi $\Lambda \subset \Lambda + \alpha$ er FEIL, det må stå $\Z$ på høyresiden. Beviselig feil. Det mest generelle utsagnet er at $\Lambda$ ligger i $\Z + \alpha$. Korrekt å f.eks si $\Lambda = \Lambda_\alpha$ for en $\alpha$. Merk LIKHET. Kan også stryke og omskrive fordi vi ikke kan si $\Lambda = \Z$ men skal si det er inneholdt helt tilslutt, og derfor likhet, og da likhet med $\Lambda = \Z + \alpha$ og ikke $\Z$ alene. 
\end{document}